<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="https://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layout}">

<head>
  <title>Добавить пользвателя</title>
  <script type="text/javascript" th:src="@{/js/scripts.js}"></script>
</head>

<body class="d-flex flex-column h-100">
<main class="flex-shrink-0">
  <section layout:fragment="body" class="py-5">
<div class="container">
    <form method="post" role="form" th:action="@{/users/new}" th:object="${user}" enctype="multipart/form-data" >

      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="name">Имя</label>
          <input
                  type="text"
                 class="form-control"
                 id="name"
                  th:field="*{name}"
                  name = "name"
                 placeholder="Имя">
          <p th:if="${#fields.hasErrors('name')}" class="text-danger" th:errors="*{name}"></p>
        </div>

        <div class="form-group col-md-4">
          <label for="surname">Фамилия</label>
          <input
                  type="text"
                  class="form-control"
                  id="surname"
                  th:field="*{surname}"
                  name = "surname"
                  placeholder="Фамилия">
          <p th:if="${#fields.hasErrors('surname')}" class="text-danger" th:errors="*{surname}"></p>
        </div>
      </div>

      <div class="form-group col-md-4">
        <label for="login">Логин</label>
        <input
                type="text"
               class="form-control"
               id="login"
                th:field="*{login}"
                name = "login"
               placeholder="Логин">
        <p th:if="${#fields.hasErrors('login')}" class="text-danger" th:errors="*{login}"></p>
      </div>

      <div class="form-group col-md-4">
        <label for="password">Пароль</label>
        <input
                type="text"
                class="form-control"
                id="password"
                th:field="*{password}"
                name = "password"
                placeholder="Пароль">
        <p th:if="${#fields.hasErrors('password')}" class="text-danger" th:errors="*{password}"></p>
      </div>


      <div class="form-group col-md-4">
        <div class="custom-file ">
          <label class="custom-file-label" for="customFile">Фотография профиля</label>
          <input type="file" name="file" id="customFile"  class="form-control">
        </div>
      </div>


      <div class="form-group col-md-4">
        <label for="inputRole">Роль</label>
        <select id="inputRole" class="form-control" name="role">
          <option value="STUDENT">Занимающийся</option>
          <option value="TRAINER">Тренер</option>
          <option value="MANAGER">Менеджер</option>
        </select>
      </div>


      <div id="trainer-select-container" class="col-md-4 mb-3" >
        <label for="trainerSelect">Тренер</label>
        <select id="trainerSelect" class="form-control" name="trainerId">
          <option value="">Выберите тренера</option>
          <th:block th:each="trainer : ${trainers}">
            <option th:value="${trainer.id}" th:text="${trainer.name} + ' ' + ${trainer.surname}"></option>
          </th:block>
        </select>
      </div>

      <button type="submit" class="btn btn-primary">Создать</button>
    </form>
</div>

  </section>

</main>



</body>



</html>